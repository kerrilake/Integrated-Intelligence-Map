<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrated Intelligence Map - Vector Equilibrium Consciousness</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(135deg, #0c0c1e 0%, #1a1a3a 50%, #0f0f2a 100%);
            font-family: 'Arial', sans-serif;
            color: #ffffff;
        }

        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .info-panel {
            position: absolute;
            background: rgba(0, 20, 40, 0.85);
            border: 1px solid #4a9eff;
            border-radius: 10px;
            padding: 15px;
            color: #ffffff;
            font-family: 'Arial', sans-serif;
            max-width: 300px;
            box-shadow: 0 4px 20px rgba(74, 158, 255, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .info-panel.collapsed {
            padding: 8px 12px;
            background: rgba(0, 20, 40, 0.6);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .panel-content {
            transition: all 0.3s ease;
        }

        .panel-content.hidden {
            display: none;
        }

        .collapse-btn {
            background: none;
            border: none;
            color: #4a9eff;
            font-size: 16px;
            cursor: pointer;
            padding: 2px 6px;
            border-radius: 3px;
            transition: background 0.2s ease;
        }

        .collapse-btn:hover {
            background: rgba(74, 158, 255, 0.2);
        }

        .dimension-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .nav-btn {
            background: #4a9eff;
            border: none;
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .nav-btn:hover {
            background: #6bb6ff;
        }

        .action-btn {
            width: 100%;
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            margin-bottom: 8px;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        .tesla-btn {
            background: #ff6b9d;
            color: white;
        }

        .tesla-btn:hover {
            background: #ff85b3;
        }

        .sample-btn {
            background: #45ff8a;
            color: black;
        }

        .sample-btn:hover {
            background: #6bff9f;
        }

        .research-btn {
            background: #ffa500;
            color: black;
        }

        .research-btn:hover {
            background: #ffb733;
        }

        .frequency-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .frequency-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- Navigation Panel -->
        <div id="navPanel" class="info-panel" style="top: 20px; left: 20px;">
            <div class="panel-header" onclick="togglePanel('navPanel')">
                <h3 style="margin: 0; color: #4a9eff;">üåÄ Sacred Navigation</h3>
                <button class="collapse-btn" id="navPanelBtn">‚àí</button>
            </div>
            <div class="panel-content" id="navPanelContent">
                <div style="margin-bottom: 15px;">
                    <strong>Current Dimension:</strong><br>
                    <span id="currentDimension" style="color: #4a9eff;">1. Sensory Awareness</span>
                </div>
                <div class="dimension-nav">
                    <button class="nav-btn" onclick="changeDimension(-1)">‚àí</button>
                    <button class="nav-btn" onclick="changeDimension(1)">+</button>
                </div>
                <div style="margin-bottom: 15px;">
                    <button class="action-btn tesla-btn" onclick="animateTesla369()">‚ö° Tesla 369 Flow</button>
                </div>
                <div>
                    <button class="action-btn sample-btn" onclick="loadSampleData()">üß¨ Load Sample Data</button>
                    <button class="action-btn research-btn" onclick="loadFromResearchApp()">üìä Load from Research App</button>
                </div>
            </div>
        </div>

        <!-- Species Info Panel -->
        <div id="speciesPanel" class="info-panel" style="top: 20px; right: 20px; display: none;">
            <div class="panel-header" onclick="togglePanel('speciesPanel')">
                <h3 style="margin: 0; color: #4a9eff;">üêæ Species Wisdom</h3>
                <button class="collapse-btn" id="speciesPanelBtn">‚àí</button>
            </div>
            <div class="panel-content" id="speciesPanelContent">
                <div id="speciesInfo">Click a species to explore its consciousness signature...</div>
            </div>
        </div>

        <!-- Tesla Frequency Panel -->
        <div id="frequencyPanel" class="info-panel" style="bottom: 20px; left: 20px;">
            <div class="panel-header" onclick="togglePanel('frequencyPanel')">
                <h3 style="margin: 0; color: #4a9eff;">‚ö° Tesla Frequencies</h3>
                <button class="collapse-btn" id="frequencyPanelBtn">‚àí</button>
            </div>
            <div class="panel-content" id="frequencyPanelContent">
                <div class="frequency-item">
                    <div class="frequency-dot" style="background: #ff69b4;"></div>
                    <span>396Hz Liberation</span>
                </div>
                <div class="frequency-item">
                    <div class="frequency-dot" style="background: #32cd32;"></div>
                    <span>528Hz Love/DNA</span>
                </div>
                <div class="frequency-item">
                    <div class="frequency-dot" style="background: #9370db;"></div>
                    <span>741Hz Intuition</span>
                </div>
                <div class="frequency-item">
                    <div class="frequency-dot" style="background: #ffd700;"></div>
                    <span>963Hz Unity</span>
                </div>
            </div>
        </div>

        <!-- Plain English Insights Panel -->
        <div id="insightsPanel" class="info-panel" style="bottom: 20px; right: 20px; display: none;">
            <div class="panel-header" onclick="togglePanel('insightsPanel')">
                <h3 style="margin: 0; color: #4a9eff;">üîç Intelligence Insights</h3>
                <button class="collapse-btn" id="insightsPanelBtn">‚àí</button>
            </div>
            <div class="panel-content" id="insightsPanelContent">
                <div id="insightsContent">
                    <p style="color: #45ff8a; font-style: italic; margin: 0;">
                        Click a species to discover how their intelligence patterns relate to other species and contribute to human understanding...
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Three.js Scene Setup
        let scene, camera, renderer, vectorEquilibrium, particleSystem;
        let species = [];
        let connections = [];
        let currentDimensionIndex = 0;
        let teslaAnimation = null;
        let raycaster, mouse;

        // 12 Sacred Dimensions of Consciousness
        const dimensions = [
            "1. Sensory Awareness",
            "2. Intuitive Reception", 
            "3. Temporal Perception",
            "4. Emotional Resonance",
            "5. Energetic Attunement",
            "6. Environmental Consciousness",
            "7. Symbolic Communication",
            "8. Collaborative Intelligence", 
            "9. Creative Innovation",
            "10. Healing Wisdom",
            "11. Teaching Capacity",
            "12. Evolutionary Contribution"
        ];

        // Tesla Frequencies
        const teslaFrequencies = {
            396: { color: 0xff69b4, meaning: "Liberation/Transformation" },
            528: { color: 0x32cd32, meaning: "Love/DNA Repair" },
            741: { color: 0x9370db, meaning: "Intuition/Expression" },
            963: { color: 0xffd700, meaning: "Unity/Transcendence" }
        };

        // Vector Equilibrium Vertices (12 points in sacred geometry)
        const vectorEquilibriumVertices = [
            // Inner hexagon (foundation consciousness)
            new THREE.Vector3(2, 0, 0),
            new THREE.Vector3(1, Math.sqrt(3), 0),
            new THREE.Vector3(-1, Math.sqrt(3), 0),
            new THREE.Vector3(-2, 0, 0),
            new THREE.Vector3(-1, -Math.sqrt(3), 0),
            new THREE.Vector3(1, -Math.sqrt(3), 0),
            // Outer hexagon (applied consciousness)
            new THREE.Vector3(3, 0, 1.5),
            new THREE.Vector3(1.5, 2.6, 1.5),
            new THREE.Vector3(-1.5, 2.6, 1.5),
            new THREE.Vector3(-3, 0, 1.5),
            new THREE.Vector3(-1.5, -2.6, 1.5),
            new THREE.Vector3(1.5, -2.6, 1.5)
        ];

        function init() {
            // Scene setup
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x000000, 0);
            document.getElementById('container').appendChild(renderer.domElement);

            // Raycaster for mouse interaction
            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();

            // Create cosmic particle background
            createParticleBackground();

            // Create vector equilibrium framework
            createVectorEquilibrium();

            // Position camera
            camera.position.set(8, 5, 8);
            camera.lookAt(0, 0, 0);

            // Event listeners
            window.addEventListener('resize', onWindowResize);
            renderer.domElement.addEventListener('mousemove', onMouseMove);
            renderer.domElement.addEventListener('click', onMouseClick);

            // Mouse controls for rotation
            let isMouseDown = false;
            let mouseX = 0, mouseY = 0;

            renderer.domElement.addEventListener('mousedown', (event) => {
                isMouseDown = true;
                mouseX = event.clientX;
                mouseY = event.clientY;
            });

            renderer.domElement.addEventListener('mouseup', () => {
                isMouseDown = false;
            });

            renderer.domElement.addEventListener('mousemove', (event) => {
                if (isMouseDown) {
                    const deltaX = event.clientX - mouseX;
                    const deltaY = event.clientY - mouseY;
                    
                    vectorEquilibrium.rotation.y += deltaX * 0.01;
                    vectorEquilibrium.rotation.x += deltaY * 0.01;
                    
                    mouseX = event.clientX;
                    mouseY = event.clientY;
                }
            });

            // Zoom controls
            renderer.domElement.addEventListener('wheel', (event) => {
                camera.position.multiplyScalar(event.deltaY > 0 ? 1.1 : 0.9);
            });

            animate();
        }

        function createParticleBackground() {
            const particleCount = 1000;
            const particles = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount * 3; i += 3) {
                positions[i] = (Math.random() - 0.5) * 50;
                positions[i + 1] = (Math.random() - 0.5) * 50;
                positions[i + 2] = (Math.random() - 0.5) * 50;
            }

            particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));

            const particleMaterial = new THREE.PointsMaterial({
                color: 0x4a9eff,
                size: 0.1,
                transparent: true,
                opacity: 0.6
            });

            particleSystem = new THREE.Points(particles, particleMaterial);
            scene.add(particleSystem);
        }

        function createVectorEquilibrium() {
            vectorEquilibrium = new THREE.Group();

            // Create framework lines
            const lineGeometry = new THREE.BufferGeometry();
            const positions = [];

            // Connect vertices to form vector equilibrium
            for (let i = 0; i < 6; i++) {
                // Inner hexagon
                const next = (i + 1) % 6;
                positions.push(...vectorEquilibriumVertices[i].toArray());
                positions.push(...vectorEquilibriumVertices[next].toArray());

                // Outer hexagon
                positions.push(...vectorEquilibriumVertices[i + 6].toArray());
                positions.push(...vectorEquilibriumVertices[(next) + 6].toArray());

                // Connecting inner to outer
                positions.push(...vectorEquilibriumVertices[i].toArray());
                positions.push(...vectorEquilibriumVertices[i + 6].toArray());
            }

            lineGeometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));

            const lineMaterial = new THREE.LineBasicMaterial({
                color: 0x4a9eff,
                transparent: true,
                opacity: 0.3
            });

            const framework = new THREE.LineSegments(lineGeometry, lineMaterial);
            vectorEquilibrium.add(framework);

            scene.add(vectorEquilibrium);
        }

        function createSpeciesNode(speciesData, position) {
            const group = new THREE.Group();

            // Determine Tesla frequency and color
            const frequencies = Object.keys(teslaFrequencies).map(Number);
            const signature = speciesData.dimensions.reduce((sum, val) => sum + val, 0);
            const freqIndex = signature % frequencies.length;
            const frequency = frequencies[freqIndex];
            const color = teslaFrequencies[frequency].color;

            // Create pulsing sphere
            const geometry = new THREE.SphereGeometry(0.2, 16, 16);
            const material = new THREE.MeshBasicMaterial({
                color: color,
                transparent: true,
                opacity: 0.8
            });

            const sphere = new THREE.Mesh(geometry, material);
            group.add(sphere);

            // Create label
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256;
            canvas.height = 64;
            context.fillStyle = '#ffffff';
            context.font = '24px Arial';
            context.textAlign = 'center';
            context.fillText(speciesData.name, 128, 40);

            const texture = new THREE.CanvasTexture(canvas);
            const labelMaterial = new THREE.SpriteMaterial({ map: texture });
            const label = new THREE.Sprite(labelMaterial);
            label.scale.set(2, 0.5, 1);
            label.position.y = 0.5;
            group.add(label);

            group.position.copy(position);
            group.userData = speciesData;

            // Tesla frequency pulsing
            group.userData.pulsePhase = Math.random() * Math.PI * 2;
            group.userData.frequency = frequency;

            return group;
        }

        function positionSpeciesOnFlowerOfLife(speciesData) {
            // Use consciousness signature to determine position
            const signature = speciesData.dimensions[currentDimensionIndex] || 6;
            const angle = (signature / 12) * Math.PI * 2;
            const radius = 2 + (signature / 12) * 2;

            const vertex = vectorEquilibriumVertices[currentDimensionIndex];
            const offset = new THREE.Vector3(
                Math.cos(angle) * radius * 0.3,
                Math.sin(angle) * radius * 0.3,
                (signature - 6) * 0.2
            );

            return vertex.clone().add(offset);
        }

        function createCurvedConnection(species1, species2) {
            const start = species1.position.clone();
            const end = species2.position.clone();
            
            // Create curved path using quadratic curve
            const mid = start.clone().add(end).multiplyScalar(0.5);
            mid.y += 1; // Curve upward

            const curve = new THREE.QuadraticBezierCurve3(start, mid, end);
            const points = curve.getPoints(20);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);

            const material = new THREE.LineBasicMaterial({
                color: 0x4a9eff,
                transparent: true,
                opacity: 0.4
            });

            return new THREE.Line(geometry, material);
        }

        function updateSpeciesPositions() {
            species.forEach(speciesNode => {
                const newPosition = positionSpeciesOnFlowerOfLife(speciesNode.userData);
                speciesNode.position.copy(newPosition);
            });

            // Update connections
            connections.forEach(connection => {
                vectorEquilibrium.remove(connection);
            });
            connections = [];

            // Create new connections based on consciousness similarity
            for (let i = 0; i < species.length; i++) {
                for (let j = i + 1; j < species.length; j++) {
                    const similarity = calculateConsciousnessSimilarity(
                        species[i].userData,
                        species[j].userData
                    );
                    
                    if (similarity > 0.6) {
                        const connection = createCurvedConnection(species[i], species[j]);
                        connections.push(connection);
                        vectorEquilibrium.add(connection);
                    }
                }
            }
        }

        function calculateConsciousnessSimilarity(species1, species2) {
            let similarity = 0;
            for (let i = 0; i < 12; i++) {
                const diff = Math.abs((species1.dimensions[i] || 6) - (species2.dimensions[i] || 6));
                similarity += (12 - diff) / 12;
            }
            return similarity / 12;
        }

        function changeDimension(direction) {
            currentDimensionIndex += direction;
            if (currentDimensionIndex < 0) currentDimensionIndex = 11;
            if (currentDimensionIndex > 11) currentDimensionIndex = 0;

            document.getElementById('currentDimension').textContent = dimensions[currentDimensionIndex];
            updateSpeciesPositions();
        }

        function animateTesla369() {
            let rotationSpeed = 0.02;
            let duration = 3000; // 3 seconds
            let startTime = Date.now();

            function animate369() {
                const elapsed = Date.now() - startTime;
                const progress = elapsed / duration;

                if (progress < 1) {
                    vectorEquilibrium.rotation.y += rotationSpeed * (1 + Math.sin(progress * Math.PI * 6));
                    teslaAnimation = requestAnimationFrame(animate369);
                } else {
                    teslaAnimation = null;
                }
            }

            if (teslaAnimation) {
                cancelAnimationFrame(teslaAnimation);
            }
            animate369();
        }

        function loadSampleData() {
            // Clear existing species
            species.forEach(node => vectorEquilibrium.remove(node));
            species = [];
            connections.forEach(connection => vectorEquilibrium.remove(connection));
            connections = [];

            // Sample consciousness data
            const sampleSpecies = [
                {
                    name: "Dolphin",
                    dimensions: [9, 11, 8, 10, 11, 9, 8, 10, 7, 8, 6, 7]
                },
                {
                    name: "Honeybee",
                    dimensions: [7, 6, 9, 5, 8, 11, 6, 12, 9, 7, 8, 10]
                },
                {
                    name: "Ancient Oak",
                    dimensions: [8, 7, 12, 6, 9, 12, 4, 6, 8, 11, 9, 11]
                },
                {
                    name: "Octopus",
                    dimensions: [10, 8, 7, 7, 6, 8, 9, 5, 11, 6, 7, 5]
                },
                {
                    name: "Human",
                    dimensions: [7, 5, 6, 8, 4, 7, 11, 9, 10, 7, 10, 8]
                },
                {
                    name: "Wolf",
                    dimensions: [11, 8, 8, 11, 9, 10, 7, 11, 8, 6, 9, 7]
                }
            ];

            // Create species nodes
            sampleSpecies.forEach(speciesData => {
                const position = positionSpeciesOnFlowerOfLife(speciesData);
                const node = createSpeciesNode(speciesData, position);
                species.push(node);
                vectorEquilibrium.add(node);
            });

            updateSpeciesPositions();
        }

        function loadFromResearchApp() {
            // Try to load data from localStorage (Research App integration)
            try {
                const researchData = localStorage.getItem('speciesResearchData');
                if (researchData) {
                    const data = JSON.parse(researchData);
                    // Convert research app data to 12-dimensional format
                    // This would be customized based on your Research App's data structure
                    console.log('Loaded from Research App:', data);
                    alert('Research App data loaded! (Check console for details)');
                } else {
                    alert('No data found from Research App. Please research a species first!');
                }
            } catch (error) {
                console.error('Error loading Research App data:', error);
                alert('Error loading Research App data. Please try again.');
            }
        }

        function onMouseMove(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        }

        function onMouseClick(event) {
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(species, true);

            if (intersects.length > 0) {
                const speciesNode = intersects[0].object.parent;
                const speciesData = speciesNode.userData;
                
                showSpeciesInfo(speciesData);
            }
        }

        function showSpeciesInfo(speciesData) {
            const panel = document.getElementById('speciesPanel');
            const info = document.getElementById('speciesInfo');
            const insightsPanel = document.getElementById('insightsPanel');
            const insightsContent = document.getElementById('insightsContent');
            
            let html = `<h4>${speciesData.name}</h4>`;
            html += `<p><strong>Consciousness Signature:</strong></p>`;
            
            for (let i = 0; i < 12; i++) {
                const value = speciesData.dimensions[i] || 6;
                html += `<div style="margin-bottom: 5px;">
                    <span style="color: #4a9eff;">${dimensions[i]}</span><br>
                    <span style="color: #45ff8a;">${value}/12</span>
                </div>`;
            }

            info.innerHTML = html;
            panel.style.display = 'block';

            // Generate Plain English Insights
            const insights = generateSpeciesInsights(speciesData);
            insightsContent.innerHTML = insights;
            insightsPanel.style.display = 'block';
        }

        function generateSpeciesInsights(speciesData) {
            const name = speciesData.name;
            const dims = speciesData.dimensions;
            
            // Calculate key strengths (dimensions > 8)
            const strengths = [];
            const applications = [];
            const relationships = [];
            
            dims.forEach((value, index) => {
                if (value > 8) {
                    strengths.push({
                        dimension: dimensions[index],
                        value: value,
                        index: index
                    });
                }
            });

            // Generate insights based on dimensional patterns
            let insights = `<h4 style="color: #4a9eff; margin-top: 0;">üîç ${name} Intelligence Insights</h4>`;
            
            if (strengths.length > 0) {
                insights += `<div style="margin-bottom: 15px;">
                    <strong style="color: #45ff8a;">Key Intelligence Strengths:</strong><br>`;
                
                strengths.forEach(strength => {
                    const interpretation = getdimensionInterpretation(strength.index, strength.value, name);
                    insights += `<div style="margin: 8px 0; padding: 8px; background: rgba(74, 158, 255, 0.1); border-radius: 5px;">
                        <span style="color: #4a9eff;">${strength.dimension.split('.')[1]}</span> (${strength.value}/12)<br>
                        <span style="font-size: 0.9em;">${interpretation}</span>
                    </div>`;
                });
                insights += `</div>`;
            }

            // Relationship insights with other species
            const relationshipInsights = getRelationshipInsights(speciesData);
            if (relationshipInsights.length > 0) {
                insights += `<div style="margin-bottom: 15px;">
                    <strong style="color: #45ff8a;">Consciousness Relationships:</strong><br>`;
                
                relationshipInsights.forEach(rel => {
                    insights += `<div style="margin: 8px 0; padding: 8px; background: rgba(69, 255, 138, 0.1); border-radius: 5px;">
                        <strong>${rel.species}</strong><br>
                        <span style="font-size: 0.9em;">${rel.insight}</span>
                    </div>`;
                });
                insights += `</div>`;
            }

            // Human relevance
            const humanRelevance = getHumanRelevance(speciesData);
            insights += `<div style="margin-bottom: 10px;">
                <strong style="color: #45ff8a;">Relevance for Humans:</strong><br>
                <div style="margin: 8px 0; padding: 8px; background: rgba(255, 255, 255, 0.05); border-radius: 5px;">
                    <span style="font-size: 0.9em;">${humanRelevance}</span>
                </div>
            </div>`;

            return insights;
        }

        function getRelationshipInsights(speciesData) {
            const relationships = [];
            const currentSpecies = speciesData.name;
            
            species.forEach(otherSpeciesNode => {
                const otherSpecies = otherSpeciesNode.userData;
                if (otherSpecies.name === currentSpecies) return;
                
                const similarity = calculateConsciousnessSimilarity(speciesData, otherSpecies);
                if (similarity > 0.6) {
                    const sharedStrengths = findSharedStrengths(speciesData, otherSpecies);
                    if (sharedStrengths.length > 0) {
                        relationships.push({
                            species: otherSpecies.name,
                            insight: `Shares ${sharedStrengths[0]} consciousness, suggesting potential for ${getCollaborationInsight(sharedStrengths[0])}.`
                        });
                    }
                }
            });
            
            return relationships.slice(0, 2); // Limit to top 2 relationships
        }

        function findSharedStrengths(species1, species2) {
            const shared = [];
            for (let i = 0; i < 12; i++) {
                if ((species1.dimensions[i] || 6) > 8 && (species2.dimensions[i] || 6) > 8) {
                    shared.push(dimensions[i].split('.')[1]);
                }
            }
            return shared;
        }

        function getCollaborationInsight(sharedDimension) {
            const collaborations = {
                "Sensory Awareness": "environmental monitoring and detection partnerships",
                "Intuitive Reception": "telepathic communication and energy healing",
                "Temporal Perception": "predictive abilities and time-sensitive coordination",
                "Emotional Resonance": "therapeutic relationships and emotional support",
                "Energetic Attunement": "vibrational healing and frequency-based communication",
                "Environmental Consciousness": "ecosystem restoration and conservation efforts",
                "Symbolic Communication": "cross-species language development and artistic collaboration",
                "Collaborative Intelligence": "group problem-solving and collective decision-making",
                "Creative Innovation": "biomimicry research and technological advancement",
                "Healing Wisdom": "integrative medicine and therapeutic applications",
                "Teaching Capacity": "educational partnerships and knowledge transfer",
                "Evolutionary Contribution": "consciousness evolution and species advancement"
            };
            return collaborations[sharedDimension] || "mutual learning and consciousness expansion";
        }

        function getHumanRelevance(speciesData) {
            const name = speciesData.name;
            const dims = speciesData.dimensions;
            
            // Find top 2 dimensions
            const sortedDims = dims.map((val, idx) => ({value: val, index: idx}))
                                  .sort((a, b) => b.value - a.value)
                                  .slice(0, 2);
            
            const relevanceMap = {
                0: "enhanced sensory awareness techniques for human healing and environmental connection",
                1: "developing intuitive communication skills and non-linear information processing",
                2: "understanding time perception for better health prediction and life planning",
                3: "emotional intelligence development and empathic connection practices",
                4: "energy healing methodologies and vibrational medicine applications",
                5: "ecosystem consciousness for sustainable living and environmental stewardship",
                6: "non-verbal communication systems and symbolic language development",
                7: "collective intelligence models for group decision-making and community building",
                8: "biomimicry innovations for technological and creative problem-solving",
                9: "integrative healing approaches combining traditional and alternative medicine",
                10: "educational methodologies that honor different learning styles and intelligences",
                11: "consciousness evolution practices for individual and species development"
            };
            
            const topRelevance = relevanceMap[sortedDims[0].index];
            return `${name}'s consciousness pattern offers humans insights into ${topRelevance}. This challenges us to expand beyond human-centric intelligence definitions and recognize the profound wisdom available through interspecies relationships.`;
        }

        function getHumanRelevance(speciesData) {
            const name = speciesData.name;
            const dims = speciesData.dimensions;
            
            // Find top 2 dimensions
            const sortedDims = dims.map((val, idx) => ({value: val, index: idx}))
                                  .sort((a, b) => b.value - a.value)
                                  .slice(0, 2);
            
            const relevanceMap = {
                0: "enhanced sensory awareness techniques for human healing and environmental connection",
                1: "developing intuitive communication skills and non-linear information processing", 
                2: "understanding time perception for better health prediction and life planning",
                3: "emotional intelligence development and empathic connection practices",
                4: "energy healing methodologies and vibrational medicine applications",
                5: "ecosystem consciousness for sustainable living and environmental stewardship",
                6: "non-verbal communication systems and symbolic language development",
                7: "collective intelligence models for group decision-making and community building",
                8: "biomimicry innovations for technological and creative problem-solving",
                9: "integrative healing approaches combining traditional and alternative medicine",
                10: "educational methodologies that honor different learning styles and intelligences",
                11: "consciousness evolution practices for individual and species development"
            };
            
            const topRelevance = relevanceMap[sortedDims[0].index];
            return `${name}'s consciousness pattern offers humans insights into ${topRelevance}. This challenges us to expand beyond human-centric intelligence definitions and recognize the profound wisdom available through interspecies relationships.`;
        }

        function getHumanRelevance(speciesData) {
            const name = speciesData.name;
            const dims = speciesData.dimensions;
            
            // Find top dimension
            const topDimIndex = dims.indexOf(Math.max(...dims));
            
            const relevanceMap = {
                0: "enhanced sensory awareness techniques for human healing and environmental connection",
                1: "developing intuitive communication skills and non-linear information processing",
                2: "understanding time perception for better health prediction and life planning", 
                3: "emotional intelligence development and empathic connection practices",
                4: "energy healing methodologies and vibrational medicine applications",
                5: "ecosystem consciousness for sustainable living and environmental stewardship",
                6: "non-verbal communication systems and symbolic language development",
                7: "collective intelligence models for group decision-making and community building",
                8: "biomimicry innovations for technological and creative problem-solving",
                9: "integrative healing approaches combining traditional and alternative medicine",
                10: "educational methodologies that honor different learning styles and intelligences",
                11: "consciousness evolution practices for individual and species development"
            };
            
            const topRelevance = relevanceMap[topDimIndex];
            return `${name}'s consciousness pattern offers humans insights into ${topRelevance}. This challenges us to expand beyond human-centric intelligence definitions and recognize the profound wisdom available through interspecies relationships.`;
        }

        function getDimensionInterpretation(dimensionIndex, value, speciesName) {
            const interpretations = {
                0: `${speciesName} demonstrates exceptional sensory processing abilities, perceiving environmental information beyond typical human ranges.`,
                1: `${speciesName} shows remarkable intuitive reception capabilities, accessing non-linear information through quantum consciousness fields.`,
                2: `${speciesName} exhibits advanced temporal perception, potentially sensing past/future events and cyclical patterns.`,
                3: `${speciesName} displays profound emotional resonance, capable of deep empathic connections across species boundaries.`,
                4: `${speciesName} demonstrates strong energetic attunement, naturally aligning with environmental and cosmic frequencies.`,
                5: `${speciesName} exhibits exceptional environmental consciousness, understanding complex ecosystem relationships and spatial dynamics.`,
                6: `${speciesName} shows advanced symbolic communication abilities, using non-verbal systems to convey complex information.`,
                7: `${speciesName} demonstrates remarkable collaborative intelligence, functioning effectively in group consciousness networks.`,
                8: `${speciesName} exhibits extraordinary creative innovation, developing novel solutions and adaptive strategies.`,
                9: `${speciesName} displays significant healing wisdom, naturally understanding therapeutic and restorative processes.`,
                10: `${speciesName} shows exceptional teaching capacity, effectively transmitting knowledge and skills across species.`,
                11: `${speciesName} demonstrates profound evolutionary contribution, actively advancing consciousness development.`
            };
            
            return interpretations[dimensionIndex] || `${speciesName} shows strength in this consciousness dimension.`;
        }

        function togglePanel(panelId) {
            const panel = document.getElementById(panelId);
            const content = document.getElementById(panelId + 'Content');
            const btn = document.getElementById(panelId + 'Btn');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                panel.classList.remove('collapsed');
                btn.textContent = '‚àí';
            } else {
                content.classList.add('hidden');
                panel.classList.add('collapsed');
                btn.textContent = '+';
            }
        }

        function animate() {
            requestAnimationFrame(animate);

            // Tesla frequency pulsing for species nodes
            species.forEach(node => {
                const time = Date.now() * 0.001;
                const pulseRate = node.userData.frequency / 1000; // Convert Hz to animation rate
                const pulse = Math.sin(time * pulseRate + node.userData.pulsePhase) * 0.1 + 1;
                node.children[0].scale.setScalar(pulse);
            });

            // Gentle particle rotation
            if (particleSystem) {
                particleSystem.rotation.y += 0.0005;
            }

            renderer.render(scene, camera);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Initialize the application
        window.addEventListener('load', init);
    </script>
</body>
</html>
